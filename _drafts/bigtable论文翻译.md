


**论文原文 [get the PDF](/resource/pdf/Bigtable%20A%20Distributed%20Storage%20System%20for%20Structured%20Data.pdf)**
## 摘要

`bigtable` 是一个设计用来scale to 非常大的空间 数千商业服务器的PB级数据的结构化数据管理系统。

包含`谷歌索引`，`谷歌地球`和`谷歌金融`等许多谷歌项目都存储在`bigtable`中。这些应用有对\`bigtable\`许多不同的需求,不论是数据规模的时效性（从网页链接网页或者卫星图像）还是潜在要求（后端批处理任务和实时的数据服务）。尽管需求多样，\`bigtable\`还是成功的为这些谷歌产品提供了弹性的高性能的解决方案。在这片论文里我们将会简单的描述\`bigtable \`所提供的数据模型，给客户端提供动态控制的数据分布和格式，我们也会描述\`bigtable\`的设计和实现。

1. ### 介绍

过去两年半我们在谷歌设计并实现并部署的分布式存储系统叫做`bigtable`。\`bigtable\`设计出来可靠的在数千服务器中存储千万亿字节（PB）数据。\`bigtable\` 已经达到了以下目标：广泛的应用，可扩展的，高性能，高可用性的。\`bigtable\`被用在多大60多谷歌产品和项目中。包括\`谷歌分析\`,\`谷歌金融\`，\`Orkut\`,\`个人搜索\`,\`Writely\`,\`谷歌地球\`。这些产品使用\`bigtable\`应对多样的工作负载需求，范围从面向吞吐量的批处理任务到延时敏感的到终端客户的数据服务。\`bigtable\`集群跨越广泛的配置，从手动到数千服务器存储在数百TB的数据。

在很多方面，`bigtable`接近一个数据库：他共享许多数据库的实现策略。并行数据和主内存数据库已经达到了很高的延展性和高性能，但是`bigtqable`提供了相对这些系统的不一样的接口。`bigtable`不支持一个完整的关系型数据的模型，替代的，他提供了简单的数据模型支持客户端动态的控制一定的格式化和分布的数据模型，并允许客户端定位存储的一些属形。数据是带有所赢得使用行和任意字符串列名。`bigtable` 也将数据当作无解释的字符串，然而客户端常常有序列化的各种形式的 半结构化的数据到这些字符串中。客户端可以通过对他们的模式细致的选择来对数据进行局部控制。最后`bigtable` 模式参数可以让客户端动态的控制 服务数据是在内存中还是硬盘中。

第二节描述了数据模型更多的细节，第三节对客户端的api做了一个综述。第四节见到那的描述了bigtable 所以来的谷歌基础设施。第五节描述了`bigtable`实现的基础，第六节描述了一些为了提高`bigtable`性能的细致策略。第7节描述了`bigtable`的性能测试。第八节我们介绍了`bigtable`在谷歌使用的一些例子。第九节讨论了一些我们从设计和维护`bigtable`中的一些经验教训。最后在第十节描述了一些相关工作，第十一节我们展示我们的结论。

### 2. 数据模型

`bigtable`是一个稀疏的分布式的持久化的多维度排序的映射（map），map 索引根据 行键，列键 和一个时间戳，map里的每一个值是无解释的 字节数组。

（行：字符串，列：字符串：时间戳：64位整型）->字符串

我们再测试了许多可能潜在可以使用`BT`的系统后建立了这套数据模型。一个具体的例子就是我们想保存一个巨大集合的网页和相关信息的副本以攻击给不同的项目使用;让我们把这个特别的表格叫做`网页表(WB)`。 再WB中，我们可能使用URL 作为 行键，各种方面的页面作为内容：列的时间戳是他们被查询到的时间，像图一展示的那样。

#### 行

行键是表里的任意的字符串（目前最大限制为64KB，尽管大部分用户使用10-100比特的大小）.每一次对于特定的行键数据的读或写都是原子操作（无视在一行中对于不同列的读或者写），这是一个更容易帮助客户端在目前的并行更新相同行解读系统行为的设计想法。
`BT`按照行键的字典序存储数据。一个表内行的范围是动态分区的。一定的行的范围叫做`片（tablet）`,这是一个分布式和负载均衡的单元。因此读取小范围的行范围是高效的，通常只需要与非常小范围的机器通讯。客户端可以利用这一属性通过查找他们的行键以此来获得数据良好的局部性。举例来说，在`WB` 中，同一域名下的页面通过url 倒置的主机名元素组成的行键 分组在一起。比如说，我们将`map.google.com/index.html` 的数据保存在`com.google.map/index.html`之下。将同一个域名下的页面保存在一起使得域名和主机名解析更高效。
